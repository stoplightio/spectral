====test====
Invalid document outputs results with scoring data when --format=stylish
====document====
---
info:
  version: 1.0.0
  title: Stoplight
paths: {}
====asset:ruleset.json====
{
  "rules": {
    "api-servers": {
      "description": "\"servers\" must be present and non-empty array.",
      "recommended": true,
      "given": "$",
      "then": {
        "field": "servers",
        "function": "schema",
        "functionOptions": {
          "dialect": "draft7",
          "schema": {
            "items": {
              "type": "object",
            },
            "minItems": 1,
            "type": "array"
          }
        }
      }
    },
    "info-contact": {
      "description": "Info object must have a \"contact\" object.",
      "recommended": true,
      "type": "style",
      "given": "$",
      "then": {
        "field": "info.contact",
        "function": "truthy",
      }
    },
    "info-description": {
      "description": "Info \"description\" must be present and non-empty string.",
      "recommended": true,
      "type": "style",
      "given": "$",
      "then": {
        "field": "info.description",
        "function": "truthy"
      }
    }
  }
}
====asset:scoring-config.json====
{
  "scoringSubtract":
    {
      "error":
        {
          "1":55,
          "2":65,
          "3":75,
          "6":85,
          "10":95
        },
     "warn":
        {
          "1":3,
          "2":7,
          "3":10,
          "6":15,
          "10":18
        }
    },
  "scoringLetter":
    {
      "A": 75,
      "B": 65,
      "C": 55,
      "D": 45,
      "E": 0
    },
  "threshold": 50,
  "onlySubtractHigherSeverityLevel": true,
  "uniqueErrors": false
}
====command====
{bin} lint {document} --format=stylish --ruleset "{asset:ruleset.json}" --scoring-config "{asset:scoring-config.json}"
====stdout====
{document}
 1:1  warning  api-servers       "servers" must be present and non-empty array.
 2:6  warning  info-contact      Info object must have a "contact" object.                 info
 2:6  warning  info-description  Info "description" must be present and non-empty string.  info

✖ 3 problems (0 errors, 3 warnings, 0 infos, 0 hints)
✖ SCORING: A (90%)
✖ PASSED!
