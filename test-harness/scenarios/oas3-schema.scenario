====test====
Prints reasonable error messages for oas3-schema errors.
====document====
openapi: 3.0.1
info:
  title: Example $ref error
  version: 1.0.0
  contact:
    foo: me
paths:
  /user:
    get:
      operationId: getUser
      parameters:
        - type: string
          name: module_id
          in: path
          required: true
          schema:
            type: string
          description: Module ID
        - name: module_id
          in: bar
          required: true
          schema:
            type: [string, number]
        - name: alias
          in: path
          type: string
          required: true
          example: Joe
      responses:
        "200":
          description: An Example
          content:
            application/json:
              schema:
                type: object
                properties:
                  user_id: 12345
            application/yaml:
              schema:
                type: object
                properties:
        "400":
          description: []
  /address:
    get:
      responses: {}
====asset:ruleset====
extends: [[spectral:oas, off]]
rules:
  oas3-schema: error
====command====
{bin} lint {document} --ruleset {asset:ruleset}
====stdout====
OpenAPI 3.x detected

{document}
  6:10  error  oas3-schema  Property `foo` is not expected to be here.              info.contact.foo
 12:17  error  oas3-schema  Property `type` is not expected to be here.             paths./user.get.parameters[0].type
 23:18  error  oas3-schema  `type` property type must be string.                    paths./user.get.parameters[1].schema.type
 24:11  error  oas3-schema  `2` property must have required property `schema`.      paths./user.get.parameters[2]
 26:17  error  oas3-schema  Property `type` is not expected to be here.             paths./user.get.parameters[2].type
 37:28  error  oas3-schema  `user_id` property type must be object.                 paths./user.get.responses[200].content.application/json.schema.properties.user_id
 41:28  error  oas3-schema  `properties` property type must be object.              paths./user.get.responses[200].content.application/yaml.schema.properties
 43:23  error  oas3-schema  `description` property type must be string.             paths./user.get.responses[400].description
 46:17  error  oas3-schema  `responses` property must not have fewer than 1 items.  paths./address.get.responses

âœ– 9 problems (9 errors, 0 warnings, 0 infos, 0 hints)
