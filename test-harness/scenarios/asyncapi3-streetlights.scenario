====test====
Validate simple AsyncAPI 3.0 sample
====document====
asyncapi: 3.0.0
info:
  title: Account Service
  version: 1.0.0
  description: This service is in charge of processing user signups
channels:
  userSignedup:
    address: user/signedup
    messages:
      UserSignedUp:
        payload:
          type: object
          properties:
            displayName:
              type: string
              description: Name of the user
            email:
              type: string
              format: email
              description: Email of the user
operations:
  sendUserSignedup:
    action: send
    channel:
      $ref: '#/channels/userSignedup'
====asset:ruleset====
const { asyncapi } = require('@stoplight/spectral-rulesets');
module.exports = asyncapi;
====command====
{bin} lint {document} --ruleset "{asset:ruleset}"
====stdout====
{document}
  1:1       warning  asyncapi-tags                   AsyncAPI object must have non-empty "tags" array.
  1:11  information  asyncapi-latest-version         The latest version is not used. You should update to the "2.6.0" version.  asyncapi
  2:6       warning  asyncapi-info-contact           Info object must have "contact" object.                                    info
 45:13      warning  asyncapi-operation-description  Operation "description" must be present and non-empty string.              channels.smartylighting/streetlights/1/0/event/{streetlightId}/lighting/measured.publish
 57:15      warning  asyncapi-operation-description  Operation "description" must be present and non-empty string.              channels.smartylighting/streetlights/1/0/action/{streetlightId}/turn/on.subscribe
 68:15      warning  asyncapi-operation-description  Operation "description" must be present and non-empty string.              channels.smartylighting/streetlights/1/0/action/{streetlightId}/turn/off.subscribe
 79:15      warning  asyncapi-operation-description  Operation "description" must be present and non-empty string.              channels.smartylighting/streetlights/1/0/action/{streetlightId}/dim.subscribe

âœ– 7 problems (0 errors, 6 warnings, 1 info, 0 hints)
