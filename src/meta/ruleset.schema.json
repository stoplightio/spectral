{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "http://stoplight.io/schemas/ruleset.schema.json",
    "type": "object",
    "properties": {
        "rules": {
            "type": "object",
            "additionalProperties": {
                "$ref": "rule.schema.json"
            }
        },
        "formats": {
            "type": "array",
            "items": {
                "type": "string",
                "minLength": 1
            }
        },
        "extends": {
            "type": ["array", "string"],
            "items": {
                "oneOf": [
                    {
                        "type": "string"
                    },
                    {
                        "type": "array",
                        "items": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "string",
                                "enum": ["off", "recommended", "all"]
                            }
                        ],
                        "additionalItems": false
                    }
                ]
            }
        },
        "functionsDir": {
            "type": "string"
        },
        "functions": {
            "type": "array",
            "items": {
                "oneOf": [
                    {
                        "type": "string"
                    },
                    {
                        "type": "array",
                        "items": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "object",
                                "$schema": "http://json-schema.org/draft-07/schema#"
                            }
                        ],
                        "additionalItems": false
                    }
                ]
            }
        }
    },
    "anyOf": [
        {
            "required": ["extends"]
        },
        {
            "required": ["rules"]
        }
    ]
}
